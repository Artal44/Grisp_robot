-module(sonar_detection).

-behavior(hera_measure).

-export([init/1, measure/1]).

%============================================================================================================================================
%======================================================= HERA MEASURE BEHAVIOUR ==============================================================
%============================================================================================================================================

init(_Args) ->
    io:format("~n[SONAR] Starting measurements~n"),
    {ok, #{seq => 1}, #{
        name => sonar_detection,
        iter => infinity,
        timeout => 300
    }}.
    
measure(State) ->
    Seq = maps:get(seq, State, 1),
    NewState = State#{seq => Seq +1},
    FakeData = 25,
    {ok, [FakeData], obstacle_distance, robot_main, NewState}.


%============================================================================================================================================
%======================================================= HELPER FUNC ========================================================================
%============================================================================================================================================       
